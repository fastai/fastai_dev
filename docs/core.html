---

title: core
keywords: 
sidebar: home_sidebar

summary: "Basic helper functions for the fastai library"
---

<div class="container" id="notebook-container">
    
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Basic-core">Basic core<a class="anchor-link" href="#Basic-core">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This module contains all the basic functions we need in other modules of the fastai library (split with <a href="/torch_core#torch_core"><code>torch_core</code></a> that contains the ones requiring pytorch). Its documentation can easily be skipped at a first read, unless you want to know what a given function does.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Global-constants">Global constants<a class="anchor-link" href="#Global-constants">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>default_cpus = min(16, num_cpus())</code> <div style="text-align: right"><a href="https://github.com/fastai/fastai/blob/master/fastai/core.py#L45">[source]</a></div></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Check-functions">Check functions<a class="anchor-link" href="#Check-functions">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=ifnone></a><code>ifnone</code></h4>
<blockquote><p><code>ifnone</code>(<code>a</code>:<code>Any</code>, <code>b</code>:<code>Any</code>) → <code>Any</code></p>
</blockquote>
<p><code>a</code> if <code>a</code> is not None, otherwise <code>b</code>.  <a href="https://github.com/fastai/fastai/blob/master/fastai/core.py#L54">[source]</a></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=is_listy></a><code>is_listy</code></h4>
<blockquote><p><code>is_listy</code>(<code>x</code>:<code>Any</code>) → <code>bool</code>
<a href="https://github.com/fastai/fastai/blob/master/fastai/core.py#L46">[source]</a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Check if <code>x</code> is a <code>Collection</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=is_tuple></a><code>is_tuple</code></h4>
<blockquote><p><code>is_tuple</code>(<code>x</code>:<code>Any</code>) → <code>bool</code>
<a href="https://github.com/fastai/fastai/blob/master/fastai/core.py#L47">[source]</a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Check if <code>x</code> is a <code>tuple</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Collection-related-functions">Collection related functions<a class="anchor-link" href="#Collection-related-functions">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=arrays_split></a><code>arrays_split</code></h4>
<blockquote><p><code>arrays_split</code>(<code>mask</code>:<code>ndarray</code>, <code>arrs</code>:<code>NPArrayableList</code>) → <code>SplitArrayList</code></p>
</blockquote>
<p>Given <code>arrs</code> is [a,b,...] and <code>mask</code>index - return[(a[mask],a[~mask]),(b[mask],b[~mask]),...].  <a href="https://github.com/fastai/fastai/blob/master/fastai/core.py#L68">[source]</a></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=extract_kwargs></a><code>extract_kwargs</code></h4>
<blockquote><p><code>extract_kwargs</code>(<code>names</code>:<code>StrList</code>, <code>kwargs</code>:<code>KWArgs</code>)</p>
</blockquote>
<p>Extracs the keys in <code>names</code> from the <code>kwargs</code>.  <a href="https://github.com/fastai/fastai/blob/master/fastai/core.py#L99">[source]</a></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=get_chunk_length></a><code>get_chunk_length</code></h4>
<blockquote><p><code>get_chunk_length</code>(<code>data</code>:<code>Union</code>[<code>Path</code>, <code>str</code>, <code>DataFrame</code>, <code>TextFileReader</code>], <code>chunksize</code>:<code>Optional</code>[<code>int</code>]=<code>None</code>) → <code>int</code>
<a href="https://github.com/fastai/fastai/blob/master/fastai/core.py#L116">[source]</a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Return the number of chunks we will have when opening the <code>DataFrame</code> in <code>csv_name</code> with <code>chunksize</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=get_total_length></a><code>get_total_length</code></h4>
<blockquote><p><code>get_total_length</code>(<code>csv_name</code>:<code>PathOrStr</code>, <code>chunksize</code>:<code>int</code>) → <code>int</code>
<a href="https://github.com/fastai/fastai/blob/master/fastai/core.py#L126">[source]</a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Return the total length we will have when opening the <code>DataFrame</code> in <code>csv_name</code> with <code>chunksize</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=idx_dict></a><code>idx_dict</code></h4>
<blockquote><p><code>idx_dict</code>(<code>a</code>)
<a href="https://github.com/fastai/fastai/blob/master/fastai/core.py#L59">[source]</a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Create a dictionary value to index from <code>a</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">idx_dict</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;a&#39;: 0, &#39;b&#39;: 1, &#39;c&#39;: 2}</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=listify></a><code>listify</code></h4>
<blockquote><p><code>listify</code>(<code>p</code>:<code>OptListOrItem</code>=<code>None</code>, <code>q</code>:<code>OptListOrItem</code>=<code>None</code>)</p>
</blockquote>
<p>Make <code>p</code> same length as <code>q</code>  <a href="https://github.com/fastai/fastai/blob/master/fastai/core.py#L78">[source]</a></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=random_split></a><code>random_split</code></h4>
<blockquote><p><code>random_split</code>(<code>valid_pct</code>:<code>float</code>, <code>arrs</code>:<code>NPArrayableList</code>) → <code>SplitArrayList</code></p>
</blockquote>
<p>Randomly split <code>arrs</code> with <code>valid_pct</code> ratio. good for creating validation set.  <a href="https://github.com/fastai/fastai/blob/master/fastai/core.py#L73">[source]</a></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=series2cat></a><code>series2cat</code></h4>
<blockquote><p><code>series2cat</code>(<code>df</code>:<code>DataFrame</code>, <code>col_names</code>)</p>
</blockquote>
<p>Categorifies the columns <code>col_names</code> in <code>df</code>.  <a href="https://github.com/fastai/fastai/blob/master/fastai/core.py#L140">[source]</a></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=uniqueify></a><code>uniqueify</code></h4>
<blockquote><p><code>uniqueify</code>(<code>x</code>:<code>Series</code>) → <code>List</code>[<code>Any</code>]
<a href="https://github.com/fastai/fastai/blob/master/fastai/core.py#L58">[source]</a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Return the unique elements in <code>x</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Files-management-and-downloads">Files management and downloads<a class="anchor-link" href="#Files-management-and-downloads">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=download_url></a><code>download_url</code></h4>
<blockquote><p><code>download_url</code>(<code>url</code>:<code>str</code>, <code>dest</code>:<code>str</code>, <code>overwrite</code>:<code>bool</code>=<code>False</code>)</p>
</blockquote>
<p>Download <code>url</code> to <code>dest</code> unless is exists and not <code>overwrite</code>.  <a href="https://github.com/fastai/fastai/blob/master/fastai/core.py#L153">[source]</a></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=find_classes></a><code>find_classes</code></h4>
<blockquote><p><code>find_classes</code>(<code>folder</code>:<code>Path</code>) → <code>FilePathList</code></p>
</blockquote>
<p>List of label subdirectories in imagenet-style <code>folder</code>.  <a href="https://github.com/fastai/fastai/blob/master/fastai/core.py#L61">[source]</a></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=maybe_copy></a><code>maybe_copy</code></h4>
<blockquote><p><code>maybe_copy</code>(<code>old_fnames</code>:<code>Collection</code>[<code>PathOrStr</code>], <code>new_fnames</code>:<code>Collection</code>[<code>PathOrStr</code>])</p>
</blockquote>
<p>Copy the <code>old_fnames</code> to <code>new_fnames</code> location if <code>new_fnames</code> don't exist or are less recent.  <a href="https://github.com/fastai/fastai/blob/master/fastai/core.py#L133">[source]</a></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Others">Others<a class="anchor-link" href="#Others">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h3><a id=ItemBase></a><code>class</code> <code>ItemBase</code></h3>
<blockquote><p><code>ItemBase</code>()</p>
</blockquote>
<p>All transformable dataset items use this type.  <a href="https://github.com/fastai/fastai/blob/master/fastai/core.py#L144">[source]</a></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=camel2snake></a><code>camel2snake</code></h4>
<blockquote><p><code>camel2snake</code>(<code>name</code>:<code>str</code>) → <code>str</code>
<a href="https://github.com/fastai/fastai/blob/master/fastai/core.py#L89">[source]</a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Format <code>name</code> by removing capital letters from a class-style name and separates the subwords with underscores.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">camel2snake</span><span class="p">(</span><span class="s1">&#39;DeviceDataLoader&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;device_data_loader&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=even_mults></a><code>even_mults</code></h4>
<blockquote><p><code>even_mults</code>(<code>start</code>:<code>float</code>, <code>stop</code>:<code>float</code>, <code>n</code>:<code>int</code>) → <code>ndarray</code></p>
</blockquote>
<p>Build evenly stepped schedule from <code>start</code> to <code>stop</code> in <code>n</code> steps.  <a href="https://github.com/fastai/fastai/blob/master/fastai/core.py#L93">[source]</a></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=noop></a><code>noop</code></h4>
<blockquote><p><code>noop</code>(<code>x</code>)
<a href="https://github.com/fastai/fastai/blob/master/fastai/core.py#L48">[source]</a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Return <code>x</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=num_cpus></a><code>num_cpus</code></h4>
<blockquote><p><code>num_cpus</code>() → <code>int</code></p>
</blockquote>
<p>Get number of cpus  <a href="https://github.com/fastai/fastai/blob/master/fastai/core.py#L41">[source]</a></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=partition></a><code>partition</code></h4>
<blockquote><p><code>partition</code>(<code>a</code>:<code>Collection</code>[<code>T_co</code>], <code>sz</code>:<code>int</code>) → <code>List</code>[<code>Collection</code>[<code>T_co</code>]]</p>
</blockquote>
<p>Split iterables <code>a</code> in equal parts of size <code>sz</code>  <a href="https://github.com/fastai/fastai/blob/master/fastai/core.py#L108">[source]</a></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=partition_by_cores></a><code>partition_by_cores</code></h4>
<blockquote><p><code>partition_by_cores</code>(<code>a</code>:<code>Collection</code>[<code>T_co</code>], <code>n_cpus</code>:<code>int</code>) → <code>List</code>[<code>Collection</code>[<code>T_co</code>]]</p>
</blockquote>
<p>Split data in <code>a</code> equally among <code>n_cpus</code> cores  <a href="https://github.com/fastai/fastai/blob/master/fastai/core.py#L112">[source]</a></p>

</div>

</div>

</div>
</div>

</div>
</div>
 

