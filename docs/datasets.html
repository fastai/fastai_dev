---

title: datasets
keywords: 
sidebar: home_sidebar


---

<div class="container" id="notebook-container">
    
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="datasets">datasets<a class="anchor-link" href="#datasets">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This module has the necessary functions to be able to download several useful datasets that we might be interested in using in our models.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2><a id=URLs></a><code>class</code> <code>URLs</code></h2>
<blockquote><p><code>URLs</code>()
<a href="https://github.com/fastai/fastai/blob/master/fastai/datasets.py#L9">[source]</a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This contains all the datasets' URLs, and some classmethods to help use them - you don't create objects of this class. The supported datasets are (with their calling name): <code>S3_NLP</code>, <code>S3_COCO</code>, <code>MNIST_SAMPLE</code>, <code>MNIST_TINY</code>, <code>IMDB_SAMPLE</code>, <code>ADULT_SAMPLE</code>, <code>ML_SAMPLE</code>, <code>PLANET_SAMPLE</code>, <code>CIFAR</code>, <code>PETS</code>, <code>MNIST</code>. To get details on the datasets you can see the <a href="http://course.fast.ai/datasets">fast.ai datasets webpage</a>. Datasets with SAMPLE in their name are subsets of the original datasets. In the case of MNIST, we also have a TINY dataset which is even smaller than MNIST_SAMPLE.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">URLs</span><span class="o">.</span><span class="n">MNIST_SAMPLE</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&#39;http://files.fast.ai/data/examples/mnist_sample&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Convenience-functions">Convenience functions<a class="anchor-link" href="#Convenience-functions">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The fastai library also has a few functions that allow us to directly download the most popular datasets, and return an object to access them:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show_doc</span><span class="p">(</span><span class="n">URLs</span><span class="o">.</span><span class="n">get_mnist</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=get_mnist></a><code>get_mnist</code></h4>
<blockquote><p><code>get_mnist</code>()
<a href="https://github.com/fastai/fastai/blob/master/fastai/datasets.py#L34">[source]</a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mnist_data</span> <span class="o">=</span> <span class="n">URLs</span><span class="o">.</span><span class="n">get_mnist</span><span class="p">()</span>
<span class="n">mnist_data</span><span class="o">.</span><span class="n">train_ds</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>ImageClassificationDataset of len 12396</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show_doc</span><span class="p">(</span><span class="n">URLs</span><span class="o">.</span><span class="n">get_imdb</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=get_imdb></a><code>get_imdb</code></h4>
<blockquote><p><code>get_imdb</code>(<code>classifier</code>=<code>False</code>)
<a href="https://github.com/fastai/fastai/blob/master/fastai/datasets.py#L39">[source]</a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show_doc</span><span class="p">(</span><span class="n">URLs</span><span class="o">.</span><span class="n">get_movie_lens</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=get_movie_lens></a><code>get_movie_lens</code></h4>
<blockquote><p><code>get_movie_lens</code>()
<a href="https://github.com/fastai/fastai/blob/master/fastai/datasets.py#L45">[source]</a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show_doc</span><span class="p">(</span><span class="n">URLs</span><span class="o">.</span><span class="n">get_adult</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=get_adult></a><code>get_adult</code></h4>
<blockquote><p><code>get_adult</code>()
<a href="https://github.com/fastai/fastai/blob/master/fastai/datasets.py#L29">[source]</a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Other-functions">Other functions<a class="anchor-link" href="#Other-functions">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=download_wt103_model></a><code>download_wt103_model</code></h4>
<blockquote><p><code>download_wt103_model</code>()
<a href="https://github.com/fastai/fastai/blob/master/fastai/datasets.py#L50">[source]</a></p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Downloads a pre-trained ULMFiT model.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Downloading-Data">Downloading Data<a class="anchor-link" href="#Downloading-Data">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>For the rest of the datasets you will need to download them with <a href="/datasets#untar_data"><code>untar_data</code></a> or <a href="/datasets#download_data"><code>download_data</code></a>. <a href="/datasets#untar_data"><code>untar_data</code></a> will decompress the data file and download it while <a href="/datasets#download_data"><code>download_data</code></a> will just download and save the compressed file in <code>.tgz</code> format.</p>
<p>By default, data will be downloaded to <code>~/.fastai/data</code> folder.<br>
Configure the default <code>data_path</code> by editing <code>~/.fastai/config.yml</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=untar_data></a><code>untar_data</code></h4>
<blockquote><p><code>untar_data</code>(<code>url</code>:<code>str</code>, <code>fname</code>:<code>PathOrStr</code>=<code>None</code>, <code>dest</code>:<code>PathOrStr</code>=<code>None</code>)</p>
</blockquote>
<p>Download <code>url</code> if doesn't exist to <code>fname</code> and un-tgz to folder <code>dest</code>  <a href="https://github.com/fastai/fastai/blob/master/fastai/datasets.py#L106">[source]</a></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">untar_data</span><span class="p">(</span><span class="n">URLs</span><span class="o">.</span><span class="n">PLANET_SAMPLE</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>PosixPath(&#39;/home/jhoward/.fastai/data/planet_sample&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=download_data></a><code>download_data</code></h4>
<blockquote><p><code>download_data</code>(<code>url</code>:<code>str</code>, <code>fname</code>:<code>PathOrStr</code>=<code>None</code>)</p>
</blockquote>
<p>Download <code>url</code> to destination <code>fname</code>  <a href="https://github.com/fastai/fastai/blob/master/fastai/datasets.py#L97">[source]</a></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note: If the data file already exists in a <code>data</code> directory inside the notebook, that data file will be used instead of <code>~/.fasta/data</code>. Paths are resolved by calling the function <a href="/datasets#datapath4file"><code>datapath4file</code></a> - which checks if data exists locally (<code>data/</code>) first, before downloading to <code>~/.fastai/data</code> home directory.</p>
<p>Example:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">download_data</span><span class="p">(</span><span class="n">URLs</span><span class="o">.</span><span class="n">PLANET_SAMPLE</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>PosixPath(&#39;/home/jhoward/.fastai/data/planet_sample.tgz&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4><a id=datapath4file></a><code>datapath4file</code></h4>
<blockquote><p><code>datapath4file</code>(<code>filename</code>)</p>
</blockquote>
<p>Returns URLs.DATA path if file exists. Otherwise returns config path  <a href="https://github.com/fastai/fastai/blob/master/fastai/datasets.py#L91">[source]</a></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>All the downloading functions use this to decide where to put the tgz and expanded folder. If <code>filename</code> already exists in a <code>data</code> directory in the same place as the calling notebook/script, that is used as the parent directly, otherwise <code>~/.fastai/config.yml</code> is read to see what path to use, which defaults to <code>~/.fasta/data</code> is used. To override this default, simply modify the value in your <code>~/.fastai/config.yml</code>:</p>

<pre><code>data_path: ~/.fastai/data</code></pre>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2><a id=Config></a><code>class</code> <code>Config</code></h2>
<blockquote><p><code>Config</code>()</p>
</blockquote>
<p>Creates a default config file at <code>~/.fastai/config.yml</code>  <a href="https://github.com/fastai/fastai/blob/master/fastai/datasets.py#L59">[source]</a></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You probably won't need to use this yourself - it's used by <code>URLs.datapath4file</code>.</p>

</div>
</div>
</div>
</div>
 

